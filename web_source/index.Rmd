---
title: ""
---

```{r setup, include=FALSE}
knitr::opts_knit$set(root.dir='..')
knitr::opts_chunk$set(
	echo = FALSE,
	message = FALSE,
	warning = FALSE,
	dev='svg', comment="")
	# fig.dim = c(3.5, 3.5)  # (width, height)
knitr::opts_knit$set(root.dir='../rscript')
Sys.setenv(TZ="Asia/Taipei")
library(widgetframe)
knitr::opts_chunk$set(widgetframe_self_contained = FALSE) 
knitr::opts_chunk$set(widgetframe_isolate_widgets = TRUE) 
knitr::opts_chunk$set(widgetframe_widgets_dir = './interactive_graph' )
source("bootstrap_fc.R")
```

<div style="text-align: right">
<p style="font-size:8px">
上次更新：`r Sys.Date()`
</p>
</div>

<div class="row">
<div class="col-md-6">
一些文字一些文字一些文字一些文字一些文字一些文字一些文字一些文字一些文字
</div>

<div class="col-md-6">
```{r , fig.margin=TRUE}
knitr::include_graphics("./out_graph/animated_facet_map.gif")
```

```{r}
button_bs("語言地圖", class = "default pull-right btn-xs", data_toggle = "modal", data_target = "#lang-map")

# iframe for Google Form
content <- HTML('
此地圖顯示各語言(華語、閩南語、客家語、英語)在臺灣各地區的<b>通行程度</b>。每一格動畫地圖為一個<b>年齡層(5 歲)</b>，因此可以看見各地區<b>語言通行程度隨時間改變的動態</b>。
<br><br>
當一語言的<b>使用比例隨年齡層年輕而下降時</b>，代表該語言為<b>弱勢語言</b>，在當地正逐漸消失當中。
')

modal(id="lang-map", modal_header = "語言地圖", modal_body=content)
```

</div>
</div>

```{r}
knitr::include_graphics("./out_graph/age_pyramid.gif")
```


```{r include=FALSE}
#tmap_mode("view")
#frameWidget(tmap_leaflet(map), width='85%')
```

```{r results='hide', message=FALSE, warning=FALSE, paged.print=FALSE}
source("cross_gen_lang_ability_ttest.R", encoding = "utf-8")
```

```{r age-diff-lang-ability, out.width="100%", fig.dim=c(7, 3.5)}
pl_full_diff+
    theme_define(legend_text=10, axis_size = 10,
                 axis_title_size=13,
                 legend_anchor = "bottom"
                 )
```



```{r age-diff-main-lang-usage, fig.dim=c(7, 3.5)}
source("gen_diff_categorical.R", encoding = "utf-8")
pl_Mand_crossgen_bar+
    theme_define(legend_text=10, axis_size = 10,
                 axis_title_size=13,
                 legend_anchor = "bottom"
                 )
```

  
  
<br><br><br><br><br><br>
